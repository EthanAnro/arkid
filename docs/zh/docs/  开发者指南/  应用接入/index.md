# 应用接入


## 业务系统摸底

开始接入之前，要先搞清楚公司业务系统的大致情况：

1. 都有哪些系统
2. 各个系统都是通过什么协议来支持单点登录或者统一账密的
3. 用户的数据源有几个，哪些保留哪些抛弃
4. 数据源之间的同步关系如何

等等

## 系统架构

在处理完这些问题之后，就可以着手设计系统架构，下图为一个典型的系统架构图示例：

[![v8sYRA.jpg](https://s1.ax1x.com/2022/08/11/v8sYRA.jpg)](https://imgtu.com/i/v8sYRA)

用户数据录入EHR系统后，通过SCIM数据同步至AD域中，将AD域作为标准数据源，微软类系统或某些支持AD的系统则可以直接与AD域对接（注意，AD域是统一账密，并非单点登录），其它系统如OA等可以通过OIDC或者SAML2等单点登录协议与ArkID对接即可。

也可以有另一种架构设计，如图：

[![v8ywlR.jpg](https://s1.ax1x.com/2022/08/11/v8ywlR.jpg)](https://imgtu.com/i/v8ywlR)

这个架构中，ArkID可以作为LDAP Server对外提供统一账密服务，已经支持AD域的系统可以直接接入。诸如飞书，Office365等三方系统可以通过SAML2协议接入完成单点登录。

## 应用接入

### 单点登录

ArkID 通过对不同协议的支持，从而支持各种单点登录协议

### 统一权限

除了能统一控制由单点登录而对应的入口权限，ArkID也提供了统一控制应用内权限的技术方案。

### 统一审批

ArkID提供了对应用内部所有需要被审批的请求统一处理的技术方案，并支持将这些审批请求推送给不同的审批系统中。
