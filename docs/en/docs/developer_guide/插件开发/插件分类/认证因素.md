## Function introduction

Authentication factors: including a series of plug-ins with authentication or authentication assistance functions, such as SMS verification code, user name password, graphic verification code, etc., which are used to identify the user's identity or improve the system security.

## Realize the idea

When creating a new authentication factor, the developer needs to inherit the AuthFactor Extension base class and implement all abstract methods. The data flow of the authentication factor plug-in during operation is shown in the following figure:

```mermaid
sequenceDiagram
    participant U as 客户端
    participant C as 平台核心
    participant B as 认证因素插件
    
    C->>B: 加载插件
    B->>C: 注册监听自定义事件：认证，注册，重置密码，监听核心事件CREATE_LOGIN_PAGE_AUTH_FACTOR
    U->>C: 请求获取登陆页面
    C->>B: 触发CREATE_LOGIN_PAGE_AUTH_FACTOR事件
    B->>C: 响应事件，遍历所有运行时配置，根据运行时配置生成login_pages
    C->>U: 渲染登录页面
    U->>C: 输入用户凭证，点击按钮，进入认证/注册/重置密码等流程
    C->>B: 触发认证注册/重置密码等事件
    B->>C: 响应认证注册/重置密码等事件，完成对应过程，返回结果
    C->>U: 返回执行结果
```

## Abstract method

* [authenticate](#arkid.core.extension.auth_factor.AuthFactorExtension.authenticate)
* [register](#arkid.core.extension.auth_factor.AuthFactorExtension.register)
* [reset_password](#arkid.core.extension.auth_factor.AuthFactorExtension.reset_password)
* [create_login_page](#arkid.core.extension.auth_factor.AuthFactorExtension.create_login_page)
* [create_register_page](#arkid.core.extension.auth_factor.AuthFactorExtension.create_register_page)
* [create_password_page](#arkid.core.extension.auth_factor.AuthFactorExtension.create_password_page)
* [create_other_page](#arkid.core.extension.auth_factor.AuthFactorExtension.create_other_page)
* [create_auth_manage_page](#arkid.core.extension.auth_factor.AuthFactorExtension.create_auth_manage_page)

## Base class definition

::: arkid.core.extension.auth_factor.AuthFactorExtension
    
## Examples

::: extension_root.com_longgui_auth_factor_mobile.MobileAuthFactorExtension

::: extension_root.com_longgui_auth_factor_password.PasswordAuthFactorExtension